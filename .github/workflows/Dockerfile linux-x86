# Use an i386 base image
FROM i386/debian:latest

# Install dependencies
RUN apt-get update && apt-get upgrade -y && \
    apt-get install -y curl tar ca-certificates libc6 libgcc-s1 libgssapi-krb5-2 libicu67 liblttng-ust0 libssl1.1 libstdc++6 libunwind8 zlib1g

# Set environment variables
ENV DOTNET_ROOT=/usr/share/dotnet
ENV PATH=$PATH:$DOTNET_ROOT

# Download and install .NET 6.0 runtime
RUN curl https://download.visualstudio.microsoft.com/download/pr/4395e3e7-6276-4c68-b107-7a53a870c7c0/e9acfa24ab1e43a2d8570fa7be63d422/dotnet-runtime-6.0.13-linux-x86.tar.gz -o dotnet-runtime-6.0.13-linux-x86.tar.gz && \
    mkdir -p $DOTNET_ROOT && \
    tar zxf dotnet-runtime-6.0.13-linux-x86.tar.gz -C $DOTNET_ROOT

# Create app directory
RUN mkdir -p /app
WORKDIR /app

# Set default command
CMD [ "bash" ]
